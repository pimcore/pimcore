services:
    pimcore.ecommerceframework.installer:
        class: Pimcore\Bundle\EcommerceFrameworkBundle\Tools\Installer
        arguments: ['@logger']
        tags:
            - { name: monolog.logger, channel: pimcore_ecommerce.installer }

    pimcore.ecommerceframework.session_configurator:
        class: Pimcore\Bundle\EcommerceFrameworkBundle\Tools\SessionConfigurator
        tags:
            - { name: pimcore.session.configurator }

    pimcore.ecommerceframework.index_update_listener:
        class: Pimcore\Bundle\EcommerceFrameworkBundle\EventListener\IndexUpdateListener
        tags:
            - { name: kernel.event_subscriber }
            - { name: monolog.logger, channel: pimcore_ecommerce_indexupdater }

    pimcore.ecommerceframework.system_listener:
        class: Pimcore\Bundle\EcommerceFrameworkBundle\EventListener\SystemEventsListener
        arguments: ['@service_container']
        tags:
            - { name: kernel.event_subscriber }
            - { name: monolog.logger, channel: pimcore_ecommerce }

    Pimcore\Bundle\EcommerceFrameworkBundle\Factory:
        arguments:
            - '@service_container'
            - '@pimcore_ecommerce.locator.cart_manager'
            - '@pimcore_ecommerce.locator.order_manager'
            - '@pimcore_ecommerce.locator.price_system'
            - '@pimcore_ecommerce.locator.availability_system'
            - '@pimcore_ecommerce.locator.checkout_manager.factory'
            - '@pimcore_ecommerce.locator.checkout_manager.commit_order_processor'
